<!--- Copyright (C) Matrisk GmbH 2022 -->

(syst_annex_a=)
# Annex A: Modelling results

As discussed in {numref}`syst_11_9_3_2`, the modelling provides an anomaly occurrence model at satellite level and a set of conditional probabilities for the repartition of anomalies by subsystem and severity. Results and parameters for each model component are given in the following, based on the data set described in {numref}`syst_11_9_3_1` and under the assumptions and limitations discussed above.

## Anomaly occurrence model

The data base used for the estimation of the parameters is illustrated in {numref}`Figure_7_34`. The portfolio of satellites is almost equally distributed over the time which indicates that the number of launches in each year does not vary too much in the considered time. Per satellite, an anomaly can occur several times within one satellite (repeated events). The total number of anomalies is thus larger than the number of satellites in the portfolio.

```{figure} ../picture/figure4_34.png
---
width: 600px
name: Figure_7_34
---
Database for modelling the time dependent anomaly occurrence rate
```

The rate of anomaly occurrence (all severities) derived from the Poisson/Weibull model fitted to the data is shown in{numref}`Figure_7_35`. Markov Chain Monte Carlo simulations were used to determine the posterior distribution of the model parameters $\alpha$ and $\beta$. As can be seen from the 90% confidence interval, the {term}`statistical uncertainty <Statistical uncertainty>` associated with the model is rather small due to the fact that also minor anomalies are considered in the data sample, leading to a considerable sample size.

```{figure} ../picture/figure4_35.png
---
width: 600px
name: Figure_7_35
---
Time dependent anomaly occurrence rate due to systematic root causes based on the Poisson/Weibull model for anomalies observed at satellite level (all severities)
```

The bivariate distribution of the model parameters after convergence of the {term}`MCMC` simulation is illustrated in {numref}`Figure_7_36`. It can be seen that the shape parameter of the Weibull model is clearly below unity, implying a decreasing failure rate as shown in {numref}`Figure_7_35`. 

The parameters of the Weibull distribution are highly correlated. This correlation needs to be considered when calculating the failure rate. The joint distribution of the Weibull parameters can be approximated here by a bivariate normal distribution.

```{figure} ../picture/figure4_36.png
---
width: 600px
name: Figure_7_36
---
Posterior distribution of the model parameters for the Poisson/Weibull anomaly occurrence model, based on the {term}`MCMC` chains \[10'000 post burn in simulations\]
```

```{list-table} Posterior parameters of the Weibull distribution for the occurrence rate of anomalies
:name: syst-table_11_18
:header-rows: 1
:widths: 20 20 20 20 20

*   - Parameter
    - Mean (posterior)
    - Std (posterior)
    - cov
    - Correlation
*   - $\alpha'' [\text{h}]$
    - 0.44
    - 0.02
    - 0.05
    - 0.84
*   - $\beta'' [-]$
    - 2372
    - 366
    - 0.15
    - 0.84
```


## Anomaly repartition by subsystem

The posterior marginal probabilities for the repartition of the anomalies by subsystem is provided in {numref}`Figure_7_37`. The marginal probability distributions follow beta distribution. Samples from the multivariate probability distribution are correlated and can be generated by using the parameters of the Dirichlet distribution provided in {numref}`syst-table_11_19`.

```{figure} ../picture/figure4_37.png
---
width: 600px
name: Figure_7_37
---
Posterior marginal distributions of the conditional probabilities for the repartition of anomalies by subsystem
```

These probabilities can be combined with the overall anomaly occurrence rate. As mentioned before, the resulting distribution of subsystem anomalies over time is questionable due to the assumption that the shape of the curve is the same for all subsystems.


```{list-table} Posterior parameters of the Dirichlet distribution for the repartition of anomalies by subsystem
:name: syst-table_11_19
:header-rows: 1
:widths: 50 50

*   - Parameter
    - $\eta_{i}''$ (posterior)
*   - AOCS
    - 299
*   - {term}`DEP`
    - 1
*   - DHS
    - 60
*   - PL
    - 185
*   - PROP
    - 73
*   - PWR
    - 79
*   - PYRO
    - 1
*   - STRU
    - 1
*   - THER
    - 26
*   - TMI
    - 2
*   - TTC
    - 10
*   - SYS
    - 9
```

## Anomaly repartition by hardware failure

Based on the model provided in {numref}`syst_11_9_3_2`, the marginal posterior probability of hardware failure conditional on an anomaly is shown in {numref}`Figure_7_38`. The parameters of the Dirichlet distribution are given in {numref}`syst-table_11_19` (satellite level).

Since the model is a bivariate Dirichlet distribution the two outcomes are fully negatively correlated and can thus be fully represented by a 2-parameter beta distribution.

The marginal posterior probability of hardware failure conditional on an anomaly for all subsystems can be sampled from the Dirichlet distribution using the parameters provided in  {numref}`syst-table_11_19`. The corresponding marginal posterior distributions for all subsystems are provided in {numref}`Figure_7_39`.

```{figure} ../picture/figure4_38.png
---
width: 600px
name: Figure_7_38
---
Posterior marginal distributions of the conditional probabilities for the repartition of anomalies by hardware failures on satellite level.
```

```{figure} ../picture/figure4_39.png
---
width: 600px
name: Figure_7_39
---
Posterior marginal distributions of the conditional probabilities for the repartition of anomalies for the subsystems(a=anomaly ).
```

```{list-table} Posterior parameters of the Dirichlet distribution for the repartition of a hardware failure for given an anomaly for on satellite level and for all subsystems
:name: syst-table_11_20
:header-rows: 1
:widths: 40 30 30

* - Parameter
  - $\delta_{1}''\,[h]$ (posterior)
  - $\delta_{2}''\,[-]$ (posterior)
* - Satellite level
  - 106
  - 630
* - {term}`AOCS`
  - 19
  - 281
* - {term}`DEP`
  - 1
  - 1
* - {term}`DHS`
  - 3
  - 58
* - {term}`PL`
  - 45
  - 141
* - {term}`PROP`
  - 15
  - 59
* - {term}`PWR`
  - 11
  - 69
* - {term}`PYRO`
  - 1
  - 1
* - {term}`STRU`
  - 1
  - 1
* - {term}`THER`
  - 17
  - 10
* - {term}`TMI`
  - 2
  - 1
* - {term}`TTC`
  - 1
  - 10
* - {term}`SYS`
  - 1
  - 1
```


## Anomaly repartition by severity given hardware failure

The repartition of anomalies by severity category is modelled with the following set of conditional probabilities fitted to the data.

The marginal distributions of the four probabilities, representing statistical uncertainty due to the limited sample size used for modelling, are shown in {numref}`Figure_7_40`.

```{figure} ../picture/figure4_40.png
---
width: 600px
name: Figure_7_40
---
Posterior marginal distributions of the conditional probabilities for the repartition of anomalies by severity considered at satellite level
```

The probabilities provided in {numref}`Figure_7_40` are conditional on anomaly occurrence ({numref}`syst-table_11_18`) and on hardware failure ({numref}`syst-table_11_20` for satellite level). When combined with the anomaly occurrence model, time-dependent occurrence rates can be derived for the different severity categories, as illustrated in {numref}`Figure_7_41` below (the 90% confidence interval now includes the uncertainty inherent in the anomaly repartition model and the hardware failure model).
 
```{figure} ../picture/figure4_41.png
---
width: 600px
name: Figure_7_41
---
Anomaly occurrence rate for different severity categories, considered at satellite level
```

The posterior parameters of the Dirichlet distribution for the different severity classes conditional on an anomaly and a hardware failure for satellite level and for all subsystems {numref}`syst-table_11_20`.

```{list-table} Posterior parameters of the Dirichlet distribution for the different severity classes conditional on an anomaly and a hardware failure at satellite level and for all subsystems
:name: syst-table_11_21
:header-rows: 1
:widths: 20 20 20 20 20

*   - Parameter
    - $\theta_{1}'' [h]$ High impact
    - $\theta_{2}'' [h]$ Medium impact
    - $\theta_{3}'' [h]$ Low impact
    - $\theta_{4}'' [-]$ No impact
*   - Satellite level
    - 6
    - 6
    - 7
    - 90
*   - {term}`AOCS`
    - 3
    - 2
    - 2
    - 15
*   - {term}`DEP`
    - 1
    - 1
    - 1
    - 1
*   - {term}`DHS`
    - 1
    - 1
    - 1
    - 3
*   - {term}`PL`
    - 1
    - 1
    - 3
    - 43
*   - {term}`PROP`
    - 2
    - 1
    - 1
    - 14
*   - {term}`PWR`
    - 3
    - 5
    - 2
    - 4
*   - {term}`PYRO`
    - 1
    - 1
    - 1
    - 1
*   - {term}`STRU`
    - 1
    - 1
    - 1
    - 1
*   - {term}`THER`
    - 1
    - 1
    - 1
    - 1
*   - {term}`TMI`
    - 1
    - 1
    - 2
    - 16
*   - {term}`TTC`
    - 1
    - 1
    - 2
    - 1
*   - {term}`SYS`
    - 1
    - 1
    - 1
    - 1
```